schema: '2.0'
stages:
  data_ingestion:
    cmd: python ./src/data/data_ingestion.py /data/raw
    deps:
    - path: ./src/data/data_ingestion.py
      hash: md5
      md5: a62472a6a0dd4599aca5f10ede80e02a
      size: 2338
    outs:
    - path: ./data/raw/rawdata.csv
      hash: md5
      md5: f80ec6d8dd9eb97dca80aa287e30c542
      size: 6888954
  make_dataset:
    cmd: python ./src/data/make_dataset.py /data
    deps:
    - path: ./src/data/data_ingestion.py
      hash: md5
      md5: a62472a6a0dd4599aca5f10ede80e02a
      size: 2338
    - path: ./src/data/make_dataset.py
      hash: md5
      md5: 5d6f381f97b7fa4cc9b7a92604f886aa
      size: 3710
    params:
      params.yaml:
        data_transformation.seed: 45
        data_transformation.split_dataset_size: 0.33
    outs:
    - path: ./data/interim/preprocess_testdata.csv
      hash: md5
      md5: 8615596d47f22ca49e073526b150bfb5
      size: 1699757
    - path: ./data/interim/preprocess_traindata.csv
      hash: md5
      md5: 24bf4f7318128d7d3d5a0b6829d4b4c9
      size: 3398298
  build_features:
    cmd: python ./src/features/build_features.py /data
    deps:
    - path: ./src/data/make_dataset.py
      hash: md5
      md5: 5d6f381f97b7fa4cc9b7a92604f886aa
      size: 3710
    - path: ./src/features/build_features.py
      hash: md5
      md5: bbebdd2ea289388a843280cee125f5e2
      size: 3642
    params:
      params.yaml:
        build_features.max_features: 10000
        build_features.ngram_range:
        - 1
        - 3
    outs:
    - path: ./data/external/processed_testdata.csv
      hash: md5
      md5: 9448717329eeaeee87130109689f61d2
      size: 488782116
    - path: ./data/external/processed_traindata.csv
      hash: md5
      md5: 1ffe1cbc06a10622112db4eec2562193
      size: 992395513
    - path: ./models/vectorizer.pkl
      hash: md5
      md5: eee6026de7896acc8afab179b464070a
      size: 384139
  train_model:
    cmd: python ./src/models/train_model.py /data/external
    deps:
    - path: ./data/external/processed_traindata.csv
      hash: md5
      md5: 1ffe1cbc06a10622112db4eec2562193
      size: 992395513
    - path: ./src/models/train_model.py
      hash: md5
      md5: 24c7297d72e6f1e087d596ee216b2184
      size: 2695
    params:
      params.yaml:
        train_model.learning_rate: 0.08
        train_model.max_depth: 20
        train_model.n_estimators: 367
    outs:
    - path: ./models/model.pkl
      hash: md5
      md5: 1dafec2d824379a7ef855f7886649dd4
      size: 4001899
  predict_model:
    cmd: python ./src/models/predict_model.py /data/external
    deps:
    - path: ./data/external/processed_testdata.csv
      hash: md5
      md5: 9448717329eeaeee87130109689f61d2
      size: 488782116
    - path: ./models/model.pkl
      hash: md5
      md5: 1dafec2d824379a7ef855f7886649dd4
      size: 4001899
    - path: ./src/models/predict_model.py
      hash: md5
      md5: ce5b4282890dd3037adaa6ea50b2a8dd
      size: 6471
    outs:
    - path: ./reports/metrics.json
      hash: md5
      md5: 5925e69b52591899c7436e7db3714c74
      size: 873
    - path: ./reports/model_experiment_info.json
      hash: md5
      md5: afcd0b9e6ea626527798737420959b2f
      size: 80
